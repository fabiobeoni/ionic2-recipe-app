<!--
  This page shows a different approach to
  validating input data. Uses angular only,
  instead of model validation we have for
  recipe. The code behind works directly
  with the form submitted instead of
  the model class.
-->
<ion-header>

  <ion-navbar>
    <ion-buttons left>
      <button menuToggle ion-button icon-only>
        <ion-icon name="menu"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title>Authenticate</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <form #f="ngForm">
    <ion-list>
      <ion-item>
        <ion-label fixed>Email</ion-label>
        <ion-input ngModel type="email" name="email" required></ion-input>
      </ion-item>
      <ion-item>
        <ion-label fixed>Password</ion-label>
        <ion-input ngModel type="password" name="password" [minlength]="6"></ion-input>
      </ion-item>
    </ion-list>
    <p>Sign-in, if you have an account:</p>
    <button ion-button block [disabled]="!f.valid" (click)="authenticate(f,'signin')">Sign-in</button>
    <br/>
    <p>or Sign-up if this is the first time:</p>
    <button ion-button block [disabled]="!f.valid" (click)="authenticate(f,'signup')">Sign-up</button>
  </form>
  <span>{{_message}}</span>
</ion-content>
